"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8054],{8054:(E,f,u)=>{u.r(f),u.d(f,{AdminProductPageModule:()=>F});var _=u(6895),d=u(433),r=u(8408),A=u(2570),s=u(7582),p=u(529),h=u(3099),v=u(2340),e=u(8274),P=u(5730),T=u(4302),x=u(7942),b=u(9477);function C(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"ion-item",13),e.NdJ("click",function(){const c=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.confirmAndRemoveSelectSearchedProduct(c.productId))}),e.TgZ(1,"ion-thumbnail",1),e._UZ(2,"img",14),e.qZA(),e.TgZ(3,"ion-label"),e._uU(4),e.qZA()()}if(2&o){const t=l.$implicit;e.xp6(2),e.s9C("src",t.images[0].src,e.LSH),e.xp6(2),e.HOy(" ",t.productName," [ ",t.category," : ",t.subCategory," : \u20b9",t.price," ]")}}function U(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"ion-card",8)(1,"ion-card-header")(2,"ion-card-title"),e._uU(3,"Remove Product Permanently"),e.qZA(),e._UZ(4,"ion-card-subtitle"),e.qZA(),e.TgZ(5,"ion-card-content")(6,"ion-list",8)(7,"div")(8,"div",9)(9,"ion-searchbar",10),e.NdJ("ngModelChange",function(i){e.CHM(t);const c=e.oxw();return e.KtG(c.searchTerm=i)})("ionInput",function(i){e.CHM(t);const c=e.oxw();return e.KtG(c.onSearchInput(i))}),e.qZA(),e._uU(10,"\xa0 "),e.TgZ(11,"ion-button",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onSearch())}),e._uU(12,"Search"),e.qZA()(),e.TgZ(13,"ion-list"),e.YNc(14,C,5,5,"ion-item",12),e.qZA()()()()()}if(2&o){const t=e.oxw();e.xp6(9),e.Q6J("ngModel",t.searchTerm),e.xp6(5),e.Q6J("ngForOf",t.searchedProductList)}}function N(o,l){1&o&&(e.TgZ(0,"div"),e._uU(1," Add New Product "),e.qZA())}function S(o,l){1&o&&(e.TgZ(0,"div"),e._uU(1," Update Product "),e.qZA())}function q(o,l){1&o&&(e.TgZ(0,"div"),e._uU(1," Customer Diary "),e.qZA())}function I(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"ion-item",13),e.NdJ("click",function(){const c=e.CHM(t).$implicit,a=e.oxw(3);return e.KtG(a.selectSearchedProductAndEdit(c))}),e.TgZ(1,"ion-thumbnail",1),e._UZ(2,"img",14),e.qZA(),e.TgZ(3,"ion-label"),e._uU(4),e.qZA()()}if(2&o){const t=l.$implicit;e.xp6(2),e.s9C("src",t.images[0].src,e.LSH),e.xp6(2),e.HOy(" ",t.productName," [ ",t.category," : ",t.subCategory," : \u20b9",t.price," ]")}}function w(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",9)(2,"ion-searchbar",10),e.NdJ("ngModelChange",function(i){e.CHM(t);const c=e.oxw(2);return e.KtG(c.searchTerm=i)})("ionInput",function(i){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onSearchInput(i))}),e.qZA(),e._uU(3,"\xa0 "),e.TgZ(4,"ion-button",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onSearch())}),e._uU(5,"Search"),e.qZA()(),e.TgZ(6,"ion-list"),e.YNc(7,I,5,5,"ion-item",12),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("ngModel",t.searchTerm),e.xp6(5),e.Q6J("ngForOf",t.searchedProductList)}}function y(o,l){1&o&&(e.TgZ(0,"ion-label"),e._uU(1,"Customer's Images"),e.qZA())}function M(o,l){1&o&&(e.TgZ(0,"ion-label"),e._uU(1,"Product Images"),e.qZA())}function k(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"form",32),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.saveProduct())}),e.TgZ(1,"ion-item",8)(2,"ion-select",33)(3,"div",20),e._uU(4,"Category "),e.TgZ(5,"ion-text",21),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"ion-select-option",34),e._uU(8,"Top"),e.qZA(),e.TgZ(9,"ion-select-option",35),e._uU(10,"Bottom"),e.qZA(),e.TgZ(11,"ion-select-option",36),e._uU(12,"Set"),e.qZA(),e.TgZ(13,"ion-select-option",37),e._uU(14,"Ethnic"),e.qZA(),e.TgZ(15,"ion-select-option",38),e._uU(16,"Western"),e.qZA(),e.TgZ(17,"ion-select-option",39),e._uU(18,"Other"),e.qZA()()(),e.TgZ(19,"ion-item",8)(20,"ion-select",40)(21,"div",20),e._uU(22,"Sub Category "),e.TgZ(23,"ion-text",21),e._uU(24,"*"),e.qZA()(),e.TgZ(25,"ion-select-option",41),e._uU(26,"New Arrivals"),e.qZA(),e.TgZ(27,"ion-select-option",42),e._uU(28,"On Sale"),e.qZA(),e.TgZ(29,"ion-select-option",43),e._uU(30,"Party Wear"),e.qZA(),e.TgZ(31,"ion-select-option",44),e._uU(32,"Kurta Set"),e.qZA(),e.TgZ(33,"ion-select-option",45),e._uU(34,"Limited Edition"),e.qZA(),e.TgZ(35,"ion-select-option",39),e._uU(36,"Other"),e.qZA()()(),e.TgZ(37,"ion-item",8)(38,"ion-select",46)(39,"div",20),e._uU(40,"For Gender "),e.TgZ(41,"ion-text",21),e._uU(42,"*"),e.qZA()(),e.TgZ(43,"ion-select-option",47),e._uU(44,"Female"),e.qZA(),e.TgZ(45,"ion-select-option",48),e._uU(46,"Male"),e.qZA(),e.TgZ(47,"ion-select-option",49),e._uU(48,"Other"),e.qZA()()(),e.TgZ(49,"ion-item",8)(50,"ion-input",50)(51,"div",20),e._uU(52,"Product Name "),e.TgZ(53,"ion-text",21),e._uU(54,"*"),e.qZA()()()(),e.TgZ(55,"ion-item",8)(56,"ion-input",51)(57,"div",20),e._uU(58,"Brand Name "),e._UZ(59,"ion-text",21),e.qZA()()(),e.TgZ(60,"ion-item",8)(61,"ion-input",52)(62,"div",20),e._uU(63,"Brand Logo "),e._UZ(64,"ion-text",21),e.qZA()()(),e.TgZ(65,"ion-item",8)(66,"ion-input",53)(67,"div",20),e._uU(68,"Sizes (S, M, L, XL, XXL) "),e.TgZ(69,"ion-text",21),e._uU(70,"*"),e.qZA()()()(),e.TgZ(71,"ion-item",8)(72,"ion-input",54)(73,"div",20),e._uU(74,"MRP "),e.TgZ(75,"ion-text",21),e._uU(76,"*"),e.qZA()()()(),e.TgZ(77,"ion-item",8)(78,"ion-input",55)(79,"div",20),e._uU(80,"Selling Price "),e.TgZ(81,"ion-text",21),e._uU(82,"*"),e.qZA()()()(),e.TgZ(83,"ion-item",8)(84,"ion-input",56)(85,"div",20),e._uU(86,"Discount On Occassion "),e._UZ(87,"ion-text",21),e.qZA()()(),e.TgZ(88,"ion-item",8)(89,"ion-input",57)(90,"div",20),e._uU(91,"Colour "),e.TgZ(92,"ion-text",21),e._uU(93,"*"),e.qZA()()()(),e.TgZ(94,"ion-item",8)(95,"ion-input",58)(96,"div",20),e._uU(97,"Rating (1-5)"),e._UZ(98,"ion-text",21),e.qZA()()(),e.TgZ(99,"ion-item",8)(100,"ion-input",59)(101,"div",20),e._uU(102,"Rating Count "),e._UZ(103,"ion-text",21),e.qZA()()()()}if(2&o){const t=e.oxw(2);e.Q6J("formGroup",t.productForm)}}function L(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"ion-card",8)(1,"ion-card-header")(2,"ion-card-title"),e.YNc(3,N,2,0,"div",15),e.YNc(4,S,2,0,"div",15),e.YNc(5,q,2,0,"div",15),e.qZA(),e.TgZ(6,"ion-card-subtitle"),e._uU(7,"Please fill all the information correctly"),e.qZA()(),e.TgZ(8,"ion-card-content")(9,"ion-list",8),e.YNc(10,w,8,2,"div",15),e.TgZ(11,"ion-accordion-group",16)(12,"ion-accordion",16)(13,"ion-item",17),e.YNc(14,y,2,0,"ion-label",15),e.YNc(15,M,2,0,"ion-label",15),e.qZA(),e.TgZ(16,"div",18)(17,"ion-input",19)(18,"div",20),e._uU(19,"Front Image 1"),e.TgZ(20,"ion-text",21),e._uU(21,"*"),e.qZA()()(),e.TgZ(22,"ion-input",22)(23,"div",20),e._uU(24,"Front Image 2"),e.qZA()(),e.TgZ(25,"ion-input",23)(26,"div",20),e._uU(27,"Left Image 1"),e.qZA()(),e.TgZ(28,"ion-input",24)(29,"div",20),e._uU(30,"Left Image 2"),e.qZA()(),e.TgZ(31,"ion-input",25)(32,"div",20),e._uU(33,"Right Image 1"),e.qZA()(),e.TgZ(34,"ion-input",26)(35,"div",20),e._uU(36,"Right Image 2"),e.qZA()(),e.TgZ(37,"ion-input",27)(38,"div",20),e._uU(39,"Back Image 1"),e.qZA()(),e.TgZ(40,"ion-input",27)(41,"div",20),e._uU(42,"Back Image 2"),e.qZA()()()()(),e.YNc(43,k,104,1,"form",28),e.qZA()(),e.TgZ(44,"div",29)(45,"ion-button",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.resetForm())}),e._uU(46,"Reset Form"),e.qZA(),e.TgZ(47,"ion-button",31),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveProduct())}),e._uU(48,"Save"),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",1==t.viewNumber),e.xp6(1),e.Q6J("ngIf",2==t.viewNumber),e.xp6(1),e.Q6J("ngIf",4==t.viewNumber),e.xp6(5),e.Q6J("ngIf",2==t.viewNumber),e.xp6(4),e.Q6J("ngIf",4==t.viewNumber),e.xp6(1),e.Q6J("ngIf",4!=t.viewNumber),e.xp6(28),e.Q6J("ngIf",4!=t.viewNumber)}}const J=[{path:"",component:(()=>{class o{constructor(t,n,i,c,a,m,Z,g){this.navController=t,this.formBuilder=n,this.http=i,this.alertService=c,this.alertController=a,this.authenticationService=m,this.ionLoaderService=Z,this.maskService=g,this.isReadyProductForm=!1,this.datetimeValue="",this.viewNumber=1,this.searchTerm="",this.searchedProductList=[],this.mask=g,this.productForm=this.formBuilder.group({productId:[null],category:["Ethnic",d.kI.required],subCategory:["New Arrivals",d.kI.required],productName:[null,d.kI.required],brand:[null],brandLogo:[null],gender:["female",d.kI.required],sizes:[null,d.kI.required],hasMultipleSizes:[null],mrp:[null,d.kI.required],price:[null,d.kI.required],discount:[null,d.kI.required],discountLabel:[null],primaryColour:[null,d.kI.required],colorVariantAvailable:[null],rating:[null],ratingCount:[null],images:[null]})}ngOnInit(){this.authenticationService.isLoggedIn()||(this.navController.navigateBack("back"),this.alertService.presentAlert("Error","Please Register To View Your Profile/address Info."))}showView(t){this.viewNumber=t}onSearchInput(t){this.searchTerm=t.target.value}onSearch(){this.searchedProductList=[],this.loadSearchedProducts(this.searchTerm)}loadSearchedProducts(t){return(0,s.mG)(this,void 0,void 0,function*(){const n=yield this.ionLoaderService.showLoader();let i=new p.LE;t.length>3&&(i=i.append("productNameKeyword",t));const c=this.http.get(`${v.N.apiBaseUrlV1}/product/getallproduct`,{params:i}).pipe((0,h.B)());return c.subscribe({next:a=>(0,s.mG)(this,void 0,void 0,function*(){n.dismiss(),"success"==a.result?this.searchedProductList=a.data:this.alertService.presentAlert("Error",a.comment)}),error:a=>{n.dismiss(),this.alertService.presentAlert("Error",a.error.comment)}}),c})}selectSearchedProductAndEdit(t){this.productForm.patchValue({productId:t.productId,category:t.category,subCategory:t.subCategory,productName:t.productName,brand:t.brand,brandLogo:t.brandLogo,gender:t.gender,sizes:t.sizes,hasMultipleSizes:t.hasMultipleSizes,mrp:t.mrp,price:t.price,discount:t.discount,discountLabel:t.discountLabel,primaryColour:t.primaryColour,colorVariantAvailable:t.colorVariantAvailable,rating:t.rating,ratingCount:t.ratingCount,images:t.images});let n=[];t.images.forEach(i=>{n.push(i.view)}),t.images.forEach(i=>{let c=0;n.forEach(a=>{a==i.view&&(c++,document.getElementById(i.view+"Image"+c).value=i.src,console.log(i.view+"Image"+c))})})}saveProduct(){return(0,s.mG)(this,void 0,void 0,function*(){const t=yield this.ionLoaderService.showLoader(),n=Array();document.querySelectorAll('[id*="Image"]').forEach(a=>{const m=a.id,Z=m.split("Image")[1];if(Number(Z)>0){const g=a.value;g.length>0&&n.push({view:m.split("Image")[0],src:g})}}),this.productForm.patchValue({images:n}),4==this.viewNumber&&this.productForm.patchValue({category:"Customer Diary",productName:"Customer Diary",mrp:0,price:0,discount:0,rating:0,ratingCount:0});const c=this.http.post(`${v.N.apiBaseUrlV1}/admin/product/addNewProduct`,this.productForm.value).pipe((0,h.B)());return c.subscribe({next:a=>(0,s.mG)(this,void 0,void 0,function*(){t.dismiss(),"success"==a.result?this.alertService.presentAlert("Success","Saved!"):this.alertService.presentAlert("Error",a.comment)}),error:a=>{t.dismiss(),this.authenticationService.logoutOnTokenIssue(a),this.alertService.presentAlert("Error",a.error.comment)}}),c})}removeSelectSearchedProduct(t){return(0,s.mG)(this,void 0,void 0,function*(){const n=yield this.ionLoaderService.showLoader();let i=new p.LE;i=i.append("productId",t),this.http.delete(`${v.N.apiBaseUrlV1}/admin/product/deleteProduct`,{params:i}).pipe((0,h.B)()).subscribe({next:a=>(0,s.mG)(this,void 0,void 0,function*(){n.dismiss(),"success"==a.result?this.alertService.presentAlert("Success","Deleted!"):this.alertService.presentAlert("Error",a.comment)}),error:a=>{n.dismiss(),this.alertService.presentAlert("Error",a.error.comment)}})})}confirmAndRemoveSelectSearchedProduct(t){return(0,s.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"",message:"Delete Permanently !!",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancelled")}},{text:"Delete",handler:()=>{console.log("Confirm Okay"),this.removeSelectSearchedProduct(t)}}]})).present()})}resetForm(){window.location.reload()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.SH),e.Y36(d.qu),e.Y36(p.eN),e.Y36(P.c),e.Y36(r.Br),e.Y36(T.$),e.Y36(x.C),e.Y36(b.B))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-admin-product"]],decls:18,vars:3,consts:[[3,"translucent"],["slot","start"],[2,"height","50px","margin-top","10px","margin-bottom","10px","display","flex","flex-direction","row"],["color","secondary","slot","",2,"height","50px","padding-top","20px","flex-grow","1","cursor","pointer",3,"click"],["color","tertiary","slot","",2,"height","50px","padding-top","20px","flex-grow","1","cursor","pointer",3,"click"],["color","danger","slot","",2,"height","50px","padding-top","20px","flex-grow","1","cursor","pointer",3,"click"],["color","primary","slot","",2,"height","50px","padding-top","20px","flex-grow","1","cursor","pointer",3,"click"],["color","light",4,"ngIf"],["color","light"],[2,"display","flex","flex-direction","row"],["mode","ios","placeholder","Search...",3,"ngModel","ngModelChange","ionInput"],["slot","end",2,"margin","12px","padding","1px",3,"click"],["style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click"],["alt","",3,"src"],[4,"ngIf"],["value","first"],["slot","header","color","light"],["slot","content",1,"ion-padding"],["placeholder","","id","FrontImage1"],["slot","label",1,"label"],["color","danger"],["placeholder","","id","FrontImage2"],["placeholder","","id","LeftImage1"],["placeholder","","id","LeftImage2"],["placeholder","","id","RightImage1"],["placeholder","","id","RightImage2"],["placeholder","","id","BackImage1"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"buttons"],["expand","full","color","danger",3,"click"],["expand","full","color","success",3,"click"],[3,"formGroup","ngSubmit"],["placeholder","Select","interface","popover","formControlName","category",2,"margin-left","auto"],["value","Top","label","Top"],["value","Bottom","label","Bottom"],["value","Set","label","Set"],["value","Ethnic","label","Ethnic"],["value","Western","label","Western"],["value","Other","label","Other"],["placeholder","Select","interface","popover","formControlName","subCategory",2,"margin-left","auto"],["value","New Arrivals","label","New Arrivals"],["value","On Sale","label","On Sale"],["value","Party Wear","label","Party Wear"],["value","Kurta Set","label","Kurta Set"],["value","Limited Edition","label","Limited Edition"],["placeholder","Select","interface","popover","formControlName","gender",2,"margin-left","auto"],["value","female","label","Female"],["value","male","label","Male"],["value","other","label","Other"],["placeholder","","formControlName","productName"],["placeholder","","formControlName","brand"],["placeholder","","formControlName","brandLogo"],["placeholder","","formControlName","sizes"],["placeholder","","formControlName","mrp"],["placeholder","","formControlName","price"],["placeholder","","formControlName","discountLabel"],["placeholder","","formControlName","primaryColour"],["placeholder","","formControlName","rating"],["placeholder","","formControlName","ratingCount"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-menu-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Edit Profile"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-card",2)(8,"ion-badge",3),e.NdJ("click",function(){return n.showView(1)}),e._uU(9,"Add New Product"),e.qZA(),e.TgZ(10,"ion-badge",4),e.NdJ("click",function(){return n.showView(2)}),e._uU(11,"Update Product"),e.qZA(),e.TgZ(12,"ion-badge",5),e.NdJ("click",function(){return n.showView(3)}),e._uU(13,"Remove Product"),e.qZA(),e.TgZ(14,"ion-badge",6),e.NdJ("click",function(){return n.showView(4)}),e._uU(15,"Customer Diary"),e.qZA()(),e.YNc(16,U,15,2,"ion-card",7),e.YNc(17,L,49,7,"ion-card",7),e.qZA()),2&t&&(e.Q6J("translucent",!0),e.xp6(16),e.Q6J("ngIf",3==n.viewNumber),e.xp6(1),e.Q6J("ngIf",1==n.viewNumber||2==n.viewNumber||4==n.viewNumber))},dependencies:[_.sg,_.O5,d._Y,d.JJ,d.JL,d.On,d.sg,d.u,r.We,r.eh,r.yp,r.YG,r.Sm,r.PM,r.FN,r.Zi,r.tO,r.Dq,r.W2,r.Gu,r.pK,r.Ie,r.Q$,r.q_,r.fG,r.VI,r.t9,r.n0,r.yW,r.Bs,r.wd,r.sr,r.QI,r.j9],styles:["ion-card[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.173);height:92%;display:flex;flex-direction:column;max-width:700px;margin:auto}ion-card-content[_ngcontent-%COMP%]{overflow-y:scroll;flex:1}.label[_ngcontent-%COMP%]{font-weight:300;white-space:nowrap}ion-input[_ngcontent-%COMP%], ion-note[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{font-weight:600;text-align:right}.dobItem[_ngcontent-%COMP%]{border-bottom:1px solid;border-color:#020202}.dobItem[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], .dobItem[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-bottom:10px}.buttons[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;grid-gap:0px;flex:none}ion-button[_ngcontent-%COMP%]{margin:0;padding:0}ion-list[_ngcontent-%COMP%]{padding:0;margin:5px;border-radius:5px}"]}),o})()}];let O=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[A.Bz.forChild(J),A.Bz]}),o})(),F=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[_.ez,d.u5,d.UX,r.Pc,O]}),o})()}}]);