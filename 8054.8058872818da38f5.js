"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8054],{8054:(k,f,d)=>{d.r(f),d.d(f,{AdminProductPageModule:()=>L});var p=d(6895),l=d(433),r=d(8408),A=d(2570),s=d(7582),_=d(529),h=d(3099),v=d(2340),e=d(8274),P=d(5730),T=d(4302),x=d(7942),b=d(9477);function C(i,u){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",12),e.NdJ("click",function(){const c=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.confirmAndRemoveSelectSearchedProduct(c.productId))}),e.TgZ(1,"ion-thumbnail",1),e._UZ(2,"img",13),e.qZA(),e.TgZ(3,"ion-label"),e._uU(4),e.qZA()()}if(2&i){const t=u.$implicit;e.xp6(2),e.s9C("src",t.images[0].src,e.LSH),e.xp6(2),e.HOy(" ",t.productName," [ ",t.category," : ",t.subCategory," : \u20b9",t.price," ]")}}function U(i,u){if(1&i){const t=e.EpF();e.TgZ(0,"ion-card",7)(1,"ion-card-header")(2,"ion-card-title"),e._uU(3,"Remove Product Permanently"),e.qZA(),e._UZ(4,"ion-card-subtitle"),e.qZA(),e.TgZ(5,"ion-card-content")(6,"ion-list",7)(7,"div")(8,"div",8)(9,"ion-searchbar",9),e.NdJ("ngModelChange",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.searchTerm=o)})("ionInput",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.onSearchInput(o))}),e.qZA(),e._uU(10,"\xa0 "),e.TgZ(11,"ion-button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSearch())}),e._uU(12,"Search"),e.qZA()(),e.TgZ(13,"ion-list"),e.YNc(14,C,5,5,"ion-item",11),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(9),e.Q6J("ngModel",t.searchTerm),e.xp6(5),e.Q6J("ngForOf",t.searchedProductList)}}function S(i,u){1&i&&(e.TgZ(0,"div"),e._uU(1," Add New Product "),e.qZA())}function q(i,u){1&i&&(e.TgZ(0,"div"),e._uU(1," Update Product "),e.qZA())}function I(i,u){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",12),e.NdJ("click",function(){const c=e.CHM(t).$implicit,a=e.oxw(3);return e.KtG(a.selectSearchedProductAndEdit(c))}),e.TgZ(1,"ion-thumbnail",1),e._UZ(2,"img",13),e.qZA(),e.TgZ(3,"ion-label"),e._uU(4),e.qZA()()}if(2&i){const t=u.$implicit;e.xp6(2),e.s9C("src",t.images[0].src,e.LSH),e.xp6(2),e.HOy(" ",t.productName," [ ",t.category," : ",t.subCategory," : \u20b9",t.price," ]")}}function N(i,u){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",8)(2,"ion-searchbar",9),e.NdJ("ngModelChange",function(o){e.CHM(t);const c=e.oxw(2);return e.KtG(c.searchTerm=o)})("ionInput",function(o){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onSearchInput(o))}),e.qZA(),e._uU(3,"\xa0 "),e.TgZ(4,"ion-button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onSearch())}),e._uU(5,"Search"),e.qZA()(),e.TgZ(6,"ion-list"),e.YNc(7,I,5,5,"ion-item",11),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngModel",t.searchTerm),e.xp6(5),e.Q6J("ngForOf",t.searchedProductList)}}function y(i,u){if(1&i){const t=e.EpF();e.TgZ(0,"ion-card",7)(1,"ion-card-header")(2,"ion-card-title"),e.YNc(3,S,2,0,"div",14),e.YNc(4,q,2,0,"div",14),e.qZA(),e.TgZ(5,"ion-card-subtitle"),e._uU(6,"Please fill all the information correctly"),e.qZA()(),e.TgZ(7,"ion-card-content")(8,"ion-list",7),e.YNc(9,N,8,2,"div",14),e.TgZ(10,"ion-accordion-group")(11,"ion-accordion",15)(12,"ion-item",16)(13,"ion-label"),e._uU(14,"Product Images"),e.qZA()(),e.TgZ(15,"div",17)(16,"ion-input",18)(17,"div",19),e._uU(18,"Front Image 1"),e.TgZ(19,"ion-text",20),e._uU(20,"*"),e.qZA()()(),e.TgZ(21,"ion-input",21)(22,"div",19),e._uU(23,"Front Image 2"),e.qZA()(),e.TgZ(24,"ion-input",22)(25,"div",19),e._uU(26,"Left Image 1"),e.qZA()(),e.TgZ(27,"ion-input",23)(28,"div",19),e._uU(29,"Left Image 2"),e.qZA()(),e.TgZ(30,"ion-input",24)(31,"div",19),e._uU(32,"Right Image 1"),e.qZA()(),e.TgZ(33,"ion-input",25)(34,"div",19),e._uU(35,"Right Image 2"),e.qZA()(),e.TgZ(36,"ion-input",26)(37,"div",19),e._uU(38,"Back Image 1"),e.qZA()(),e.TgZ(39,"ion-input",26)(40,"div",19),e._uU(41,"Back Image 2"),e.qZA()()()()(),e.TgZ(42,"form",27),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProduct())}),e.TgZ(43,"ion-item",7)(44,"ion-select",28)(45,"div",19),e._uU(46,"Category "),e.TgZ(47,"ion-text",20),e._uU(48,"*"),e.qZA()(),e.TgZ(49,"ion-select-option",29),e._uU(50,"Top"),e.qZA(),e.TgZ(51,"ion-select-option",30),e._uU(52,"Bottom"),e.qZA(),e.TgZ(53,"ion-select-option",31),e._uU(54,"Set"),e.qZA(),e.TgZ(55,"ion-select-option",32),e._uU(56,"Ethnic"),e.qZA(),e.TgZ(57,"ion-select-option",33),e._uU(58,"Western"),e.qZA(),e.TgZ(59,"ion-select-option",34),e._uU(60,"Other"),e.qZA()()(),e.TgZ(61,"ion-item",7)(62,"ion-select",35)(63,"div",19),e._uU(64,"Sub Category "),e.TgZ(65,"ion-text",20),e._uU(66,"*"),e.qZA()(),e.TgZ(67,"ion-select-option",36),e._uU(68,"New Arrivals"),e.qZA(),e.TgZ(69,"ion-select-option",37),e._uU(70,"On Sale"),e.qZA(),e.TgZ(71,"ion-select-option",38),e._uU(72,"Party Wear"),e.qZA(),e.TgZ(73,"ion-select-option",39),e._uU(74,"Kurta Set"),e.qZA(),e.TgZ(75,"ion-select-option",40),e._uU(76,"Limited Edition"),e.qZA(),e.TgZ(77,"ion-select-option",34),e._uU(78,"Other"),e.qZA()()(),e.TgZ(79,"ion-item",7)(80,"ion-select",41)(81,"div",19),e._uU(82,"For Gender "),e.TgZ(83,"ion-text",20),e._uU(84,"*"),e.qZA()(),e.TgZ(85,"ion-select-option",42),e._uU(86,"Female"),e.qZA(),e.TgZ(87,"ion-select-option",43),e._uU(88,"Male"),e.qZA(),e.TgZ(89,"ion-select-option",44),e._uU(90,"Other"),e.qZA()()(),e.TgZ(91,"ion-item",7)(92,"ion-input",45)(93,"div",19),e._uU(94,"Product Name "),e.TgZ(95,"ion-text",20),e._uU(96,"*"),e.qZA()()()(),e.TgZ(97,"ion-item",7)(98,"ion-input",46)(99,"div",19),e._uU(100,"Brand Name "),e._UZ(101,"ion-text",20),e.qZA()()(),e.TgZ(102,"ion-item",7)(103,"ion-input",47)(104,"div",19),e._uU(105,"Brand Logo "),e._UZ(106,"ion-text",20),e.qZA()()(),e.TgZ(107,"ion-item",7)(108,"ion-input",48)(109,"div",19),e._uU(110,"Sizes (S, M, L, XL, XXL) "),e.TgZ(111,"ion-text",20),e._uU(112,"*"),e.qZA()()()(),e.TgZ(113,"ion-item",7)(114,"ion-input",49)(115,"div",19),e._uU(116,"MRP "),e.TgZ(117,"ion-text",20),e._uU(118,"*"),e.qZA()()()(),e.TgZ(119,"ion-item",7)(120,"ion-input",50)(121,"div",19),e._uU(122,"Selling Price "),e.TgZ(123,"ion-text",20),e._uU(124,"*"),e.qZA()()()(),e.TgZ(125,"ion-item",7)(126,"ion-input",51)(127,"div",19),e._uU(128,"Discount On Occassion "),e._UZ(129,"ion-text",20),e.qZA()()(),e.TgZ(130,"ion-item",7)(131,"ion-input",52)(132,"div",19),e._uU(133,"Colour "),e.TgZ(134,"ion-text",20),e._uU(135,"*"),e.qZA()()()(),e.TgZ(136,"ion-item",7)(137,"ion-input",53)(138,"div",19),e._uU(139,"Rating (1-5)"),e._UZ(140,"ion-text",20),e.qZA()()(),e.TgZ(141,"ion-item",7)(142,"ion-input",54)(143,"div",19),e._uU(144,"Rating Count "),e._UZ(145,"ion-text",20),e.qZA()()()()()(),e.TgZ(146,"div",55)(147,"ion-button",56),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.resetForm())}),e._uU(148,"Reset Form"),e.qZA(),e.TgZ(149,"ion-button",57),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProduct())}),e._uU(150,"Save"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",1==t.viewNumber),e.xp6(1),e.Q6J("ngIf",2==t.viewNumber),e.xp6(5),e.Q6J("ngIf",2==t.viewNumber),e.xp6(33),e.Q6J("formGroup",t.productForm)}}const w=[{path:"",component:(()=>{class i{constructor(t,n,o,c,a,m,Z,g){this.navController=t,this.formBuilder=n,this.http=o,this.alertService=c,this.alertController=a,this.authenticationService=m,this.ionLoaderService=Z,this.maskService=g,this.isReadyProductForm=!1,this.datetimeValue="",this.viewNumber=1,this.searchTerm="",this.searchedProductList=[],this.mask=g,this.productForm=this.formBuilder.group({productId:[null],category:["Ethnic",l.kI.required],subCategory:["New Arrivals",l.kI.required],productName:[null,l.kI.required],brand:[null],brandLogo:[null],gender:["female",l.kI.required],sizes:[null,l.kI.required],hasMultipleSizes:[null],mrp:[null,l.kI.required],price:[null,l.kI.required],discount:[null,l.kI.required],discountLabel:[null],primaryColour:[null,l.kI.required],colorVariantAvailable:[null],rating:[null],ratingCount:[null],images:[null]})}ngOnInit(){this.authenticationService.isLoggedIn()||(this.navController.navigateBack("back"),this.alertService.presentAlert("Error","Please Register To View Your Profile/address Info."))}showView(t){this.viewNumber=t}onSearchInput(t){this.searchTerm=t.target.value}onSearch(){this.searchedProductList=[],this.loadSearchedProducts(this.searchTerm)}loadSearchedProducts(t){return(0,s.mG)(this,void 0,void 0,function*(){const n=yield this.ionLoaderService.showLoader();let o=new _.LE;t.length>3&&(o=o.append("productNameKeyword",t));const c=this.http.get(`${v.N.apiBaseUrlV1}/product/getallproduct`,{params:o}).pipe((0,h.B)());return c.subscribe({next:a=>(0,s.mG)(this,void 0,void 0,function*(){n.dismiss(),"success"==a.result?this.searchedProductList=a.data:this.alertService.presentAlert("Error",a.comment)}),error:a=>{n.dismiss(),this.alertService.presentAlert("Error",a.error.comment)}}),c})}selectSearchedProductAndEdit(t){this.productForm.patchValue({productId:t.productId,category:t.category,subCategory:t.subCategory,productName:t.productName,brand:t.brand,brandLogo:t.brandLogo,gender:t.gender,sizes:t.sizes,hasMultipleSizes:t.hasMultipleSizes,mrp:t.mrp,price:t.price,discount:t.discount,discountLabel:t.discountLabel,primaryColour:t.primaryColour,colorVariantAvailable:t.colorVariantAvailable,rating:t.rating,ratingCount:t.ratingCount,images:t.images});let n=[];t.images.forEach(o=>{n.push(o.view)}),t.images.forEach(o=>{let c=0;n.forEach(a=>{a==o.view&&(c++,document.getElementById(o.view+"Image"+c).value=o.src,console.log(o.view+"Image"+c))})})}saveProduct(){return(0,s.mG)(this,void 0,void 0,function*(){const t=yield this.ionLoaderService.showLoader(),n=Array();document.querySelectorAll('[id*="Image"]').forEach(a=>{const m=a.id,Z=m.split("Image")[1];if(Number(Z)>0){const g=a.value;g.length>0&&n.push({view:m.split("Image")[0],src:g})}}),this.productForm.patchValue({images:n});const c=this.http.post(`${v.N.apiBaseUrlV1}/admin/product/addNewProduct`,this.productForm.value).pipe((0,h.B)());return c.subscribe({next:a=>(0,s.mG)(this,void 0,void 0,function*(){t.dismiss(),"success"==a.result?this.alertService.presentAlert("Success","Saved!"):this.alertService.presentAlert("Error",a.comment)}),error:a=>{t.dismiss(),this.authenticationService.logoutOnTokenIssue(a),this.alertService.presentAlert("Error",a.error.comment)}}),c})}removeSelectSearchedProduct(t){return(0,s.mG)(this,void 0,void 0,function*(){const n=yield this.ionLoaderService.showLoader();let o=new _.LE;o=o.append("productId",t),this.http.delete(`${v.N.apiBaseUrlV1}/admin/product/deleteProduct`,{params:o}).pipe((0,h.B)()).subscribe({next:a=>(0,s.mG)(this,void 0,void 0,function*(){n.dismiss(),"success"==a.result?this.alertService.presentAlert("Success","Deleted!"):this.alertService.presentAlert("Error",a.comment)}),error:a=>{n.dismiss(),this.alertService.presentAlert("Error",a.error.comment)}})})}confirmAndRemoveSelectSearchedProduct(t){return(0,s.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"",message:"Delete Permanently !!",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancelled")}},{text:"Delete",handler:()=>{console.log("Confirm Okay"),this.removeSelectSearchedProduct(t)}}]})).present()})}resetForm(){window.location.reload()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.SH),e.Y36(l.qu),e.Y36(_.eN),e.Y36(P.c),e.Y36(r.Br),e.Y36(T.$),e.Y36(x.C),e.Y36(b.B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-admin-product"]],decls:16,vars:3,consts:[[3,"translucent"],["slot","start"],[2,"height","50px","margin-top","10px","margin-bottom","10px","display","flex","flex-direction","row"],["color","secondary","slot","",2,"height","50px","padding-top","20px","flex-grow","1","cursor","pointer",3,"click"],["color","tertiary","slot","",2,"height","50px","padding-top","20px","flex-grow","1","cursor","pointer",3,"click"],["color","danger","slot","",2,"height","50px","padding-top","20px","flex-grow","1","cursor","pointer",3,"click"],["color","light",4,"ngIf"],["color","light"],[2,"display","flex","flex-direction","row"],["mode","ios","placeholder","Search...",3,"ngModel","ngModelChange","ionInput"],["slot","end",2,"margin","12px","padding","1px",3,"click"],["style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click"],["alt","",3,"src"],[4,"ngIf"],["value","first"],["slot","header","color","light"],["slot","content",1,"ion-padding"],["placeholder","","id","FrontImage1"],["slot","label",1,"label"],["color","danger"],["placeholder","","id","FrontImage2"],["placeholder","","id","LeftImage1"],["placeholder","","id","LeftImage2"],["placeholder","","id","RightImage1"],["placeholder","","id","RightImage2"],["placeholder","","id","BackImage1"],[3,"formGroup","ngSubmit"],["placeholder","Select","interface","popover","formControlName","category",2,"margin-left","auto"],["value","Top","label","Top"],["value","Bottom","label","Bottom"],["value","Set","label","Set"],["value","Ethnic","label","Ethnic"],["value","Western","label","Western"],["value","Other","label","Other"],["placeholder","Select","interface","popover","formControlName","subCategory",2,"margin-left","auto"],["value","New Arrivals","label","New Arrivals"],["value","On Sale","label","On Sale"],["value","Party Wear","label","Party Wear"],["value","Kurta Set","label","Kurta Set"],["value","Limited Edition","label","Limited Edition"],["placeholder","Select","interface","popover","formControlName","gender",2,"margin-left","auto"],["value","female","label","Female"],["value","male","label","Male"],["value","other","label","Other"],["placeholder","","formControlName","productName"],["placeholder","","formControlName","brand"],["placeholder","","formControlName","brandLogo"],["placeholder","","formControlName","sizes"],["placeholder","","formControlName","mrp"],["placeholder","","formControlName","price"],["placeholder","","formControlName","discountLabel"],["placeholder","","formControlName","primaryColour"],["placeholder","","formControlName","rating"],["placeholder","","formControlName","ratingCount"],[1,"buttons"],["expand","full","color","danger",3,"click"],["expand","full","color","success",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-menu-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Edit Profile"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-card",2)(8,"ion-badge",3),e.NdJ("click",function(){return n.showView(1)}),e._uU(9,"Add New Product"),e.qZA(),e.TgZ(10,"ion-badge",4),e.NdJ("click",function(){return n.showView(2)}),e._uU(11,"Update Product"),e.qZA(),e.TgZ(12,"ion-badge",5),e.NdJ("click",function(){return n.showView(3)}),e._uU(13,"Remove Product"),e.qZA()(),e.YNc(14,U,15,2,"ion-card",6),e.YNc(15,y,151,4,"ion-card",6),e.qZA()),2&t&&(e.Q6J("translucent",!0),e.xp6(14),e.Q6J("ngIf",3==n.viewNumber),e.xp6(1),e.Q6J("ngIf",1==n.viewNumber||2==n.viewNumber))},dependencies:[p.sg,p.O5,l._Y,l.JJ,l.JL,l.On,l.sg,l.u,r.We,r.eh,r.yp,r.YG,r.Sm,r.PM,r.FN,r.Zi,r.tO,r.Dq,r.W2,r.Gu,r.pK,r.Ie,r.Q$,r.q_,r.fG,r.VI,r.t9,r.n0,r.yW,r.Bs,r.wd,r.sr,r.QI,r.j9],styles:["ion-card[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.173);height:92%;display:flex;flex-direction:column;max-width:700px;margin:auto}ion-card-content[_ngcontent-%COMP%]{overflow-y:scroll;flex:1}.label[_ngcontent-%COMP%]{font-weight:300;white-space:nowrap}ion-input[_ngcontent-%COMP%], ion-note[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{font-weight:600;text-align:right}.dobItem[_ngcontent-%COMP%]{border-bottom:1px solid;border-color:#020202}.dobItem[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], .dobItem[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-bottom:10px}.buttons[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;grid-gap:0px;flex:none}ion-button[_ngcontent-%COMP%]{margin:0;padding:0}ion-list[_ngcontent-%COMP%]{padding:0;margin:5px;border-radius:5px}"]}),i})()}];let M=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[A.Bz.forChild(w),A.Bz]}),i})(),L=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,l.u5,l.UX,r.Pc,M]}),i})()}}]);